# FcstLabPro ä¸‹ä¸€æ­¥ä¼˜åŒ–è®¡åˆ’

**åˆ¶å®šæ—¥æœŸ:** 2026-02-15
**å½“å‰æœ€ä¼˜ç‰ˆæœ¬:** Bull v15 / Bear v13

---

## ä¸€ã€å®žéªŒæ€»ç»“

### åŽ†å²ç‰ˆæœ¬ Kappa å˜åŒ–

| ç‰ˆæœ¬ | Bull Kappa | Bear Kappa | æå‡ | æ”¹åŠ¨ |
|------|------------|------------|------|------|
| v6 | 0.0505 | 0.0602 | åŸºçº¿ | æ—  |
| v9 | 0.0624 | 0.0591 | +24% | +FGI |
| v10 | 0.0545 | 0.0518 | âŒ å¤±è´¥ | FGIç‰¹å¾å¢žå¼º(è¿‡æ‹Ÿåˆ) |
| v11 | -0.164 | - | âŒ å¤±è´¥ | directionalæ ‡ç­¾ |
| v12 | **0.0975** | 0.0188 | **+93%** | T=21çª—å£ |
| v13 | 0.0839 | **0.0529** | â¬‡ï¸/â¬†ï¸ | T=28çª—å£ |
| v14 | 0.0730 | 0.0416 | âŒ å¤±è´¥ | æ¦‚çŽ‡é˜ˆå€¼ä¼˜åŒ– |
| **v15** | **0.1110** | 0.0356 | **ðŸŽ‰ +14%** | Regimeç‰¹å¾ |
| v16 | 0.0445 | - | âŒ å¤±è´¥ | return_signç­–ç•¥ |

### å…³é”®çªç ´

- **T=21 çª—å£** è®© Bull Kappa ä»Ž 0.0624 â†’ 0.0975 (+56%)
- **Regime ç‰¹å¾** é¦–æ¬¡çªç ´ 0.11ï¼
- **T=21 å¯¹ Bull æœ€ä¼˜ï¼ŒT=28 å¯¹ Bear æœ€ä¼˜**

### å½“å‰æœ€ä¼˜é…ç½®

| æ¨¡åž‹ | ç‰ˆæœ¬ | Kappa | é…ç½® |
|------|------|-------|------|
| **Bull** | v15 | **0.1110** | T=21, FGI, Regime |
| **Bear** | v13 | 0.0529 | T=28, FGI |

---

## äºŒã€æ–¹æ¡ˆåˆ†æž (plans/model_opt_0215.md.md è¯„ä¼°)

### ChatGPT æ–¹æ¡ˆè¯„ä¼°

| æ–¹æ¡ˆ | é¢„æœŸæ•ˆæžœ | å¤æ‚åº¦ | å»ºè®® |
|------|----------|--------|------|
| å›žå½’ç›®æ ‡ | ä¸­ | ä½Ž | âœ… å¯è¡Œ |
| Regimeåˆ†ç±»å™¨ | é«˜ | ä¸­ | âœ… å¯è¡Œ |
| å¤šå°ºåº¦èžåˆ | ä¸­ | é«˜ | ðŸŸ¡ æœªæ¥ |
| FT-Transformer | ä¸­ | é«˜ | ðŸŸ¡ æœªæ¥ |
| æ¦‚çŽ‡åˆ†å¸ƒ(Quantile) | ä¸­ | ä¸­ | âœ… å¯è¡Œ |

---

## ä¸‰ã€æ“ä½œè®¡åˆ’

### Phase 1: å¿«é€Ÿè§æ•ˆï¼ˆ1å‘¨å†…ï¼‰

#### 1.1 å°è¯• T=28 çª—å£ âœ… å·²å®Œæˆ
- **ç›®æ ‡**: éªŒè¯æ›´é•¿çª—å£æ˜¯å¦ç»§ç»­æå‡
- **æ–¹æ³•**: åŸºäºŽ v12 é…ç½®ï¼ŒT=21 â†’ T=28
- **ç»“æžœ**:
  - Bull: T=21(0.0975) > T=28(0.0839) - ä¸‹é™
  - Bear: T=14(0.0591) â†’ T=28(0.0529) - ä¸Šå‡
- **ç»“è®º**: T=21 æ˜¯ Bull æœ€ä¼˜ï¼ŒT=28 æ˜¯ Bear æœ€ä¼˜

#### 1.2 æ¦‚çŽ‡é˜ˆå€¼ä¼˜åŒ– âœ… å·²å®Œæˆ
- **ç›®æ ‡**: åªåœ¨é«˜ç½®ä¿¡åº¦æ—¶å‘ä¿¡å·
- **æ–¹æ³•**: P > 0.6 æˆ– P < 0.4 æ—¶æ‰è¡ŒåŠ¨
- **ç»“æžœ**:
  - Bull: 0.0975 â†’ 0.0730 - ä¸‹é™
  - Bear: 0.0529 â†’ 0.0416 - ä¸‹é™
- **ç»“è®º**: âŒ æ¦‚çŽ‡é˜ˆå€¼ä¼˜åŒ–å¤±è´¥ï¼Œæ¨¡åž‹æ¦‚çŽ‡æœªæ ¡å‡†
- **å‘çŽ°**: æœ€ä¼˜é˜ˆå€¼=0.2ï¼ˆæžä½Žï¼‰ï¼Œè¯´æ˜Žæ¦‚çŽ‡ä¸å¯é 

### Phase 2: ä¸­æœŸä¼˜åŒ–ï¼ˆ2-4å‘¨ï¼‰

#### 2.1 Regime-Aware æ¨¡åž‹ âœ… å·²å®Œæˆ
- **ç›®æ ‡**: åŒºåˆ†ç‰›/ç†Š/éœ‡è¡å¸‚
- **æ–¹æ³•**: æ·»åŠ  regime ç‰¹å¾é›†ï¼ˆ200MAä½ç½®ã€è¶‹åŠ¿å¼ºåº¦ã€æ³¢åŠ¨çŽ‡ï¼‰
- **ç»“æžœ**:
  - Bull: 0.0975 â†’ 0.1110 (+14%) ðŸŽ‰
  - Bear: 0.0529 â†’ 0.0356 (-)
- **ç»“è®º**: Regime ç‰¹å¾å¯¹ Bull æœ‰æ•ˆï¼Œå¯¹ Bear æ— æ•ˆ
- **å‘çŽ°**: Kappa é¦–æ¬¡çªç ´ 0.11ï¼

#### 2.2 å›žå½’ç›®æ ‡ + åˆ†ä½æ•°å†³ç­–
- **ç›®æ ‡**: é¢„æµ‹æ”¶ç›Šè€Œéžæ–¹å‘
- **æ–¹æ³•**: LightGBM å›žå½’ + åˆ†ä½æ•°
- **å·¥ä½œ**: 3å°æ—¶
- **é¢„æœŸ**: PnL å¯èƒ½æ›´å¥½

### Phase 3: é•¿æœŸå‡çº§

#### 3.1 çœŸå®žé“¾ä¸Šæ•°æ®
- MVRVã€äº¤æ˜“æ‰€å‡€æµé‡

#### 3.2 å¤šå°ºåº¦å»ºæ¨¡
- 4h + æ—¥çº¿ + å‘¨çº¿

#### 3.3 æ·±åº¦å­¦ä¹ æ¨¡åž‹ â³ å¾…å®žéªŒ

**ç›®æ ‡**: çªç ´ GBDT çš„ç‰¹å¾äº¤äº’å¤©èŠ±æ¿

##### v21: PatchTST å®žéªŒ
- **æ¨¡åž‹**: PatchTST (Patch Time Series Transformer)
- **è¾“å…¥**: è¿‡åŽ» 52 å‘¨ Ã— å¤šå˜é‡çŸ©é˜µ
- **ç‰¹ç‚¹**: å¤„ç†é•¿åºåˆ—ï¼Œæ¯” Informer ç¨³å®šï¼Œå¯¹é‡‘èžè¡¨çŽ°å¥½
- **é¢„æœŸ**: è‡ªåŠ¨å­¦ä¹ æ—¶é—´æ¨¡å¼ï¼Œå¯èƒ½è¶…è¶Š Kappa 0.11

##### v22: TFT å®žéªŒ
- **æ¨¡åž‹**: Temporal Fusion Transformer
- **è¾“å…¥**: é™æ€ç‰¹å¾ + æ—¶é—´å˜åŒ–ç‰¹å¾ + å¤–éƒ¨å˜é‡(FGI)
- **ç‰¹ç‚¹**: gated mechanism é€‚åˆé‡‘èžï¼Œå¤šå˜é‡èžåˆ
- **é¢„æœŸ**: ç»Ÿä¸€å¤„ç†æ‰€æœ‰ç‰¹å¾ç±»åž‹

##### v23: TabPFN å®žéªŒ
- **æ¨¡åž‹**: TabPFN
- **ç‰¹ç‚¹**: å°æ ·æœ¬å‹å¥½ï¼Œé€‚åˆæ¨ªæˆªé¢æ•°æ®
- **é¢„æœŸ**: å¿«é€Ÿå¯¹æ¯” baseline

**å®žæ–½é¡ºåº**: v21 (PatchTST) â†’ v22 (TFT) â†’ v23 (TabPFN)

---

## å››ã€ç«‹å³æ‰§è¡Œé¡¹

### å·²å®Œæˆå®žéªŒæ€»ç»“

| å®žéªŒ | Bull Kappa | Bear Kappa | çŠ¶æ€ |
|------|------------|------------|------|
| v15 Regime | 0.1110 | 0.0356 | Bullæœ‰æ•ˆ, Bearæ— æ•ˆ |
| v16 return_sign | 0.0445 | - | âŒ ä¸‹é™ |
| v17 Plattæ ¡å‡† | 0.0526 | - | âŒ ä¸‹é™ |
| v18 RSW | 0.0818 | - | â¬‡ï¸ ä¸‹é™ |
| v19 Bear Vol | - | 0.0092 | âŒ å´©æºƒ |

### å›žå½’ç›®æ ‡æµ‹è¯•ç»“è®º
- **return_sign ç­–ç•¥**: Kappa=0.0445, æ¯” reversal (0.1110) å·®å¾ˆå¤š
- **çº¯å›žå½’ç›®æ ‡**: ç³»ç»Ÿä¸å…¼å®¹ï¼Œéœ€è¦ä¿®æ”¹è¯„ä¼°é€»è¾‘
- **ç»“è®º**: reversal ç­–ç•¥æ›´ä¼˜ï¼Œä¸ç»§ç»­å›žå½’ç›®æ ‡å®žéªŒ

### ä¸‹ä¸€ä¸ªå®žéªŒ: å¾…å®š

### v19 Bear æ³¢åŠ¨çŽ‡ç»“è®º
- **v19 Bear Volatility**: Kappa=0.0092, æ¯” v13 (0.0529) ä¸‹é™ 83%
- **ç»“è®º**: æ³¢åŠ¨çŽ‡ç‰¹å¾åè€Œè®©Bearæ¨¡åž‹å´©æºƒï¼Œä¸å†ç»§ç»­
- **Bear v13 ä»æ˜¯æœ€ä¼˜**

### æ¦‚çŽ‡æ ¡å‡†ç»“è®º
- **v17 Plattæ ¡å‡†**: Kappa=0.0526, æ¯” v15 (0.1110) ä¸‹é™ 53%
- **v18 RSW**: Kappa=0.0818, æ¯” v15 ä¸‹é™ 26%
- **ç»“è®º**: æ ¡å‡†å’ŒRSWéƒ½æœªèƒ½è¶…è¶ŠåŸºçº¿ v15
- **ä¸å†ç»§ç»­æ ¡å‡†/RSWæ–¹å‘**

### PnL å›žæµ‹æŒ‡æ ‡ (è¿›è¡Œä¸­)
- æ–°å¢žæŒ‡æ ‡: CAGR, Sharpe, Sortino, MaxDD, Win/Loss
- éœ€è¦å•ç‹¬çš„å›žæµ‹æ¡†æž¶æ”¯æŒ

---

## å…­ã€ä¸‹ä¸€æ­¥ä¼˜åŒ–æ–¹å‘

### ä¼˜å…ˆçº§æŽ’åº

| ä¼˜å…ˆçº§ | æ–¹å‘ | çŠ¶æ€ | è¯´æ˜Ž |
|--------|------|------|------|
| **P0** | ç»„åˆç­–ç•¥ (Bull/Bear ç¡¬åˆ‡) | å¾…æ‰§è¡Œ | ç”¨200MAåˆ‡æ¢æ¨¡åž‹ |
| **P1** | PnL å›žæµ‹ | è¿›è¡Œä¸­ | éªŒè¯Kappaå«é‡‘é‡ |
| **P2** | ç‰¹å¾å‡æ³• (SHAP) | å¾…å®š | å‰”é™¤å¹²æ‰°ç‰¹å¾ |

### ç»„åˆç­–ç•¥å®žçŽ°

**é€»è¾‘**:
- Price > 200MA â†’ ä½¿ç”¨ Bull v15
- Price < 200MA â†’ ä½¿ç”¨ Bear v13

**é¢„æœŸ**: å…¨å‘¨æœŸ Kappa ç¨³å®šåœ¨ 0.08+

### v20 ç»„åˆç­–ç•¥ç»“æžœ

| æ¨¡åž‹ | Kappa | è¯´æ˜Ž |
|------|-------|------|
| Bull | 0.0818 | ä½¿ç”¨å…±åŒç‰¹å¾ |
| Bear | 0.0426 | ä½¿ç”¨å…±åŒç‰¹å¾ |
| **ç»„åˆ** | **-0.0332** | âŒ ç¡¬åˆ‡å¤±è´¥ |

**ç»“è®º**: Bull/Bear ç¡¬åˆ‡ç­–ç•¥å¤±è´¥ï¼Œç»„åˆåŽ Kappa ä¸ºè´Ÿ
- åŽŸå› : ç¡¬åˆ‡å¯¼è‡´æ¨¡åž‹åˆ‡æ¢æ—¶çš„é¢„æµ‹ä¸ä¸€è‡´
- ä¸å†ç»§ç»­ç»„åˆç­–ç•¥

---

## ä¸ƒã€å®žéªŒç»“æžœæ±‡æ€»

### å·²éªŒè¯ç»“è®º

1. **Bull v15 (Kappa=0.1110) + Bear v13 (Kappa=0.0529) æ˜¯å½“å‰æœ€ä¼˜**
2. **Regime ç‰¹å¾ä»…å¯¹ Bull æœ‰æ•ˆï¼Œå¯¹ Bear æœ‰å®³**
3. **T=21 å¯¹ Bull æœ€ä¼˜ï¼ŒT=28 å¯¹ Bear æœ€ä¼˜**
4. **æ¦‚çŽ‡é˜ˆå€¼ä¼˜åŒ–å¤±è´¥ï¼Œæ¨¡åž‹æ¦‚çŽ‡æœªæ ¡å‡†**
5. **return_sign ç­–ç•¥ä¸å¦‚ reversal ç­–ç•¥**
6. **Platt æ ¡å‡†å¯¹ Kappa æ— å¸®åŠ©**
7. **Bear æ³¢åŠ¨çŽ‡ç‰¹å¾å¯¼è‡´å´©æºƒ**
8. **v15/v13 æ˜¯æœ€ä¼˜ç»„åˆ**
9. **Bull/Bear ç¡¬åˆ‡å¤±è´¥**

---

*è®¡åˆ’åˆ¶å®š: FcstLabPro å®žéªŒå›¢é˜Ÿ*
