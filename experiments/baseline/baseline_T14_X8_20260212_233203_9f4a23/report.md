# 实验报告: baseline_T14_X8_20260212_233203_9f4a23

**生成时间**: 2026-02-12 23:35:24

## 1. 实验概要

| 项目 | 值 |
|------|------|
| 实验名称 | baseline_T14_X8 |
| 描述 | 基线实验：技术指标+成交量特征，14天窗口，8%阈值 |
| 标签 | ['baseline', 'v1'] |
| Git Commit | 9c31aa3 |
| Git Branch | master |
| 耗时 | Nones |
| 随机种子 | 42 |

## 2. 数据配置

- **数据源**: binance
- **交易对**: BTCUSDT
- **周期**: 1d
- **时间范围**: 2018-01-01 ~ 2025-12-31
- **数据文件**: `data/raw/btc_binance_BTCUSDT_1d.csv`

## 3. 特征配置

- **特征集**: ['technical', 'volume']
- **总特征数**: 77
- **NaN处理**: ffill_then_drop

## 4. 标签配置

- **策略**: reversal
- **窗口 T**: 14 天
- **阈值 X**: 0.08 (8%)

## 5. 模型配置

- **类型**: lightgbm
- **参数**:
  - n_estimators: 500
  - max_depth: 6
  - learning_rate: 0.05
  - num_leaves: 31
  - subsample: 0.8
  - colsample_bytree: 0.8
  - min_child_samples: 20
  - reg_alpha: 0.1
  - reg_lambda: 0.1
  - random_state: 42
  - verbose: -1

## 6. 评估结果（汇总）

| 指标              |      值 |
|:----------------|-------:|
| accuracy        | 0.3745 |
| f1_macro        | 0.3546 |
| precision_macro | 0.3619 |
| recall_macro    | 0.3713 |
| cohen_kappa     | 0.0466 |

## 7. Walk-Forward Fold 详情

- **方法**: walk_forward
- **初始训练集**: 1500
- **OOS窗口**: 63
- **步进**: 21
- **总 Fold 数**: 57

|   fold_id |   train_size |   test_size |   accuracy |   f1_macro |   precision_macro |   recall_macro |   cohen_kappa |
|----------:|-------------:|------------:|-----------:|-----------:|------------------:|---------------:|--------------:|
|    0.0000 |    1500.0000 |     63.0000 |     0.1587 |     0.0939 |            0.0546 |         0.3333 |       -0.0109 |
|    1.0000 |    1521.0000 |     63.0000 |     0.3016 |     0.2633 |            0.3360 |         0.3882 |        0.0581 |
|    2.0000 |    1542.0000 |     63.0000 |     0.3968 |     0.3678 |            0.3920 |         0.4354 |        0.1256 |
|    3.0000 |    1563.0000 |     63.0000 |     0.3016 |     0.4184 |            0.5600 |         0.5852 |        0.1492 |
|    4.0000 |    1584.0000 |     63.0000 |     0.3492 |     0.2307 |            0.4490 |         0.2705 |       -0.0114 |
|    5.0000 |    1605.0000 |     63.0000 |     0.4603 |     0.4142 |            0.5639 |         0.4717 |        0.2492 |
|    6.0000 |    1626.0000 |     63.0000 |     0.3810 |     0.3188 |            0.4218 |         0.4153 |        0.1403 |
|    7.0000 |    1647.0000 |     63.0000 |     0.3333 |     0.3159 |            0.4138 |         0.3702 |        0.0368 |
|    8.0000 |    1668.0000 |     63.0000 |     0.3810 |     0.3412 |            0.4240 |         0.3991 |        0.0957 |
|    9.0000 |    1689.0000 |     63.0000 |     0.2698 |     0.2435 |            0.2495 |         0.2692 |       -0.0686 |
|   10.0000 |    1710.0000 |     63.0000 |     0.1746 |     0.1302 |            0.1605 |         0.2028 |       -0.1584 |
|   11.0000 |    1731.0000 |     63.0000 |     0.3016 |     0.3101 |            0.5308 |         0.6071 |        0.1630 |
|   12.0000 |    1752.0000 |     63.0000 |     0.3810 |     0.2593 |            0.3019 |         0.2510 |       -0.0664 |
|   13.0000 |    1773.0000 |     63.0000 |     0.6032 |     0.2508 |            0.2390 |         0.2639 |       -0.1234 |
|   14.0000 |    1794.0000 |     63.0000 |     0.5873 |     0.5320 |            0.5342 |         0.7090 |        0.3206 |
|   15.0000 |    1815.0000 |     63.0000 |     0.5714 |     0.2553 |            0.2609 |         0.2500 |        0.0173 |
|   16.0000 |    1836.0000 |     63.0000 |     0.2857 |     0.1643 |            0.1878 |         0.4539 |       -0.1647 |
|   17.0000 |    1857.0000 |     63.0000 |     0.3651 |     0.2425 |            0.3138 |         0.3260 |       -0.0219 |
|   18.0000 |    1878.0000 |     63.0000 |     0.6032 |     0.4108 |            0.4386 |         0.4842 |       -0.0382 |
|   19.0000 |    1899.0000 |     63.0000 |     0.4603 |     0.2125 |            0.1559 |         0.3333 |        0.0134 |
|   20.0000 |    1920.0000 |     63.0000 |     0.5556 |     0.2668 |            0.3727 |         0.3045 |        0.0068 |
|   21.0000 |    1941.0000 |     63.0000 |     0.4444 |     0.3409 |            0.2730 |         0.5439 |       -0.0406 |
|   22.0000 |    1962.0000 |     63.0000 |     0.2698 |     0.2067 |            0.2821 |         0.2149 |       -0.1086 |
|   23.0000 |    1983.0000 |     63.0000 |     0.2857 |     0.1538 |            0.1000 |         0.3333 |        0.0136 |
|   24.0000 |    2004.0000 |     63.0000 |     0.2222 |     0.2675 |            0.1903 |         0.5185 |        0.0730 |
|   25.0000 |    2025.0000 |     63.0000 |     0.3492 |     0.3305 |            0.5066 |         0.4111 |        0.1498 |
|   26.0000 |    2046.0000 |     63.0000 |     0.5873 |     0.3970 |            0.5247 |         0.4333 |        0.2342 |
|   27.0000 |    2067.0000 |     63.0000 |     0.4444 |     0.2830 |            0.4722 |         0.3833 |        0.0847 |
|   28.0000 |    2088.0000 |     63.0000 |     0.3333 |     0.2102 |            0.4409 |         0.3590 |        0.0258 |
|   29.0000 |    2109.0000 |     63.0000 |     0.3175 |     0.2352 |            0.2684 |         0.3556 |        0.0117 |
|   30.0000 |    2130.0000 |     63.0000 |     0.2698 |     0.2125 |            0.2451 |         0.3908 |        0.0413 |
|   31.0000 |    2151.0000 |     63.0000 |     0.3810 |     0.3718 |            0.2853 |         0.5641 |        0.2079 |
|   32.0000 |    2172.0000 |     63.0000 |     0.4127 |     0.4228 |            0.4959 |         0.4510 |        0.1675 |
|   33.0000 |    2193.0000 |     63.0000 |     0.4286 |     0.3646 |            0.3193 |         0.4742 |        0.1943 |
|   34.0000 |    2214.0000 |     63.0000 |     0.3492 |     0.3383 |            0.3949 |         0.3681 |        0.0570 |
|   35.0000 |    2235.0000 |     63.0000 |     0.0952 |     0.0688 |            0.3611 |         0.3423 |       -0.0003 |
|   36.0000 |    2256.0000 |     63.0000 |     0.0794 |     0.0784 |            0.0653 |         0.3684 |       -0.0322 |
|   37.0000 |    2277.0000 |     63.0000 |     0.0317 |     0.0333 |            0.2222 |         0.0180 |       -0.0838 |
|   38.0000 |    2298.0000 |     63.0000 |     0.3333 |     0.3259 |            0.4294 |         0.5343 |        0.0630 |
|   39.0000 |    2319.0000 |     63.0000 |     0.5556 |     0.4452 |            0.4370 |         0.4731 |        0.0696 |
|   40.0000 |    2340.0000 |     63.0000 |     0.5079 |     0.3556 |            0.6010 |         0.3408 |       -0.0394 |
|   41.0000 |    2361.0000 |     63.0000 |     0.4603 |     0.3865 |            0.4820 |         0.4998 |        0.2116 |
|   42.0000 |    2382.0000 |     63.0000 |     0.3810 |     0.3358 |            0.6236 |         0.5460 |        0.1899 |
|   43.0000 |    2403.0000 |     63.0000 |     0.3810 |     0.2930 |            0.4403 |         0.3981 |        0.1124 |
|   44.0000 |    2424.0000 |     63.0000 |     0.3651 |     0.3324 |            0.4662 |         0.4694 |        0.0823 |
|   45.0000 |    2445.0000 |     63.0000 |     0.1905 |     0.1956 |            0.5037 |         0.4142 |        0.0561 |
|   46.0000 |    2466.0000 |     63.0000 |     0.1111 |     0.1211 |            0.6836 |         0.3812 |        0.0392 |
|   47.0000 |    2487.0000 |     63.0000 |     0.0635 |     0.0647 |            0.0476 |         0.2614 |       -0.0663 |
|   48.0000 |    2508.0000 |     63.0000 |     0.5079 |     0.2634 |            0.2963 |         0.2370 |        0.1490 |
|   49.0000 |    2529.0000 |     63.0000 |     0.6190 |     0.3729 |            0.3025 |         0.6136 |        0.0400 |
|   50.0000 |    2550.0000 |     63.0000 |     0.6984 |     0.3147 |            0.3288 |         0.4138 |        0.0099 |
|   51.0000 |    2571.0000 |     63.0000 |     0.6667 |     0.4296 |            0.4167 |         0.4785 |        0.2719 |
|   52.0000 |    2592.0000 |     63.0000 |     0.5873 |     0.4180 |            0.3897 |         0.5407 |        0.2222 |
|   53.0000 |    2613.0000 |     63.0000 |     0.5238 |     0.4646 |            0.7191 |         0.5675 |        0.2385 |
|   54.0000 |    2634.0000 |     63.0000 |     0.3968 |     0.3151 |            0.5585 |         0.5778 |        0.1307 |
|   55.0000 |    2655.0000 |     63.0000 |     0.2540 |     0.2228 |            0.4028 |         0.4614 |       -0.0196 |
|   56.0000 |    2676.0000 |     63.0000 |     0.2222 |     0.3073 |            0.5023 |         0.4133 |        0.0446 |

## 8. 分类报告

```
              precision    recall  f1-score   support

        顶部反转       0.23      0.42      0.30       672
          正常       0.55      0.42      0.47      1826
        底部反转       0.31      0.28      0.29      1093

    accuracy                           0.37      3591
   macro avg       0.36      0.37      0.35      3591
weighted avg       0.41      0.37      0.38      3591

```

## 9. 混淆矩阵

|         |   顶部反转(0) |   正常(1) |   底部反转(2) |
|:--------|----------:|--------:|----------:|
| 顶部反转(0) |       282 |     235 |       155 |
| 正常(1)   |       534 |     758 |       534 |
| 底部反转(2) |       391 |     397 |       305 |

## 10. Top 20 重要特征

| feature           |   importance |
|:------------------|-------------:|
| sma_cross_50_200  |          989 |
| low_50d_dist      |          954 |
| vol_volatility_20 |          832 |
| price_vs_sma_200  |          808 |
| atr_pct_21        |          802 |
| vol_price_corr_20 |          791 |
| vol_volatility_10 |          768 |
| obv_sma_20        |          752 |
| volatility_20d    |          723 |
| bb_width_20       |          681 |
| obv               |          665 |
| obv_sma_10        |          661 |
| vol_sma_50        |          651 |
| vol_price_corr_10 |          648 |
| atr_21            |          602 |
| low_14d_dist      |          595 |
| sma_200           |          590 |
| high_50d_dist     |          584 |
| low_21d_dist      |          579 |
| rsi_28            |          560 |

## 附录: 完整配置

```yaml
experiment:
  name: baseline_T14_X8
  description: 基线实验：技术指标+成交量特征，14天窗口，8%阈值
  tags:
  - baseline
  - v1
data:
  source: binance
  symbol: BTCUSDT
  interval: 1d
  start: '2018-01-01'
  end: '2025-12-31'
  path: data/raw/btc_binance_BTCUSDT_1d.csv
features:
  sets:
  - technical
  - volume
  drop_na_method: ffill_then_drop
  scaling: null
label:
  strategy: reversal
  T: 14
  X: 0.08
model:
  type: lightgbm
  params:
    n_estimators: 500
    max_depth: 6
    learning_rate: 0.05
    num_leaves: 31
    subsample: 0.8
    colsample_bytree: 0.8
    min_child_samples: 20
    reg_alpha: 0.1
    reg_lambda: 0.1
    random_state: 42
    verbose: -1
evaluation:
  method: walk_forward
  init_train: 1500
  oos_window: 63
  step: 21
  metrics:
  - accuracy
  - f1_macro
  - precision_macro
  - recall_macro
  - cohen_kappa
seed: 42

```