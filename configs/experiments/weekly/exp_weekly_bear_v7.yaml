# ============================================================
# Weekly Bear Model v7: å¤–éƒ¨æ•°æ® + Triple Barrier (ä¸ Bull v7 å¯¹ç§°)
# Bear æ¨¡å‹é¢„æµ‹ä¸‹è·Œé£é™©ï¼šæ­¢æŸ(è§¦åŠä¸‹å±éšœ)=1, å…¶ä»–=0
# ============================================================
experiment:
  name: "weekly_bear_v7"
  description: "Bear v7: å¤–éƒ¨æ•°æ® + Triple Barrier + åŠ¨æ€é˜ˆå€¼"
  tags: ["weekly", "bear", "binary", "v7", "external", "triple_barrier"]
  category: "weekly"

data:
  path: "data/raw/btc_binance_BTCUSDT_1d.csv"

features:
  sets:
    - technical
    - volume
    - flow
    - market_structure
    - external      # ğŸ†• çœŸå®å¤–éƒ¨æ•°æ®

label:
  strategy: "triple_barrier"
  T: 14
  X: 0.05
  dynamic_threshold: true
  atr_window: 14
  atr_multiplier: 2.0
  sl_ratio: 1.0
  map:
    0: 1    # æ­¢æŸ â†’ 1 (åšç©ºæœºä¼š/é£é™©è­¦å‘Š)
    1: 0    # è¶…æ—¶ â†’ 0 (æ— æ˜ç¡®ä¸‹è·Œ)
    2: 0    # æ­¢ç›ˆ â†’ 0 (æ— æ˜ç¡®ä¸‹è·Œ)

model:
  type: "lightgbm"
  params:
    n_estimators: 1200
    max_depth: 5
    learning_rate: 0.03
    num_leaves: 24
    subsample: 0.8
    colsample_bytree: 0.7
    min_child_samples: 25
    reg_alpha: 0.2
    reg_lambda: 0.2
    min_split_gain: 0.005
    random_state: 42
    verbose: -1
    auto_scale_pos_weight: true
    early_stopping_rounds: 50

evaluation:
  method: "walk_forward"
  init_train: 1500
  oos_window: 63
  step: 21
  purge_gap: 14
  metrics:
    - accuracy
    - f1_binary
    - precision_binary
    - recall_binary
    - f1_macro
    - cohen_kappa
