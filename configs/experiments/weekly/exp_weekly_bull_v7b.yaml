# ============================================================
# Weekly Bull Model v7b: å¤–éƒ¨æ•°æ® + reversal æ ‡ç­¾ (å¯¹ç…§ç»„)
# ä¸ v7 å”¯ä¸€åŒºåˆ«: ä½¿ç”¨ reversal æ ‡ç­¾è€Œé triple_barrier
# ç›®çš„: éš”ç¦»"å¤–éƒ¨æ•°æ®"å’Œ"æ ‡ç­¾ç­–ç•¥"å„è‡ªçš„è´¡çŒ®
#   v6  = reversal + å†…éƒ¨ç‰¹å¾        (åŸºçº¿)
#   v7b = reversal + å†…éƒ¨ + å¤–éƒ¨ç‰¹å¾  (éªŒè¯å¤–éƒ¨æ•°æ®çš„ç‹¬ç«‹è´¡çŒ®)
#   v7  = triple_barrier + å†…éƒ¨ + å¤–éƒ¨ (éªŒè¯æ ‡ç­¾ç­–ç•¥çš„è´¡çŒ®)
# ============================================================
experiment:
  name: "weekly_bull_v7b"
  description: "Bull v7b å¯¹ç…§: å¤–éƒ¨æ•°æ® + reversal æ ‡ç­¾ (éš”ç¦»å¤–éƒ¨æ•°æ®è´¡çŒ®)"
  tags: ["weekly", "bull", "binary", "v7b", "external", "control"]
  category: "weekly"

data:
  path: "data/raw/btc_binance_BTCUSDT_1d.csv"

features:
  sets:
    - technical
    - volume
    - flow
    - market_structure
    - external      # ğŸ†• çœŸå®å¤–éƒ¨æ•°æ®

label:
  strategy: "reversal"        # ä¿æŒ v6 ç›¸åŒæ ‡ç­¾ç­–ç•¥
  T: 14
  X: 0.05
  map:
    0: 0
    1: 0
    2: 1

model:
  type: "lightgbm"
  params:
    n_estimators: 1200
    max_depth: 5
    learning_rate: 0.03
    num_leaves: 24
    subsample: 0.8
    colsample_bytree: 0.7
    min_child_samples: 25
    reg_alpha: 0.2
    reg_lambda: 0.2
    min_split_gain: 0.005
    random_state: 42
    verbose: -1
    auto_scale_pos_weight: true
    early_stopping_rounds: 50

evaluation:
  method: "walk_forward"
  init_train: 1500
  oos_window: 63
  step: 21
  metrics:
    - accuracy
    - f1_binary
    - precision_binary
    - recall_binary
    - f1_macro
    - cohen_kappa
